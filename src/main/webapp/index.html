<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html>
<head>
    <title>XKE Metrics</title>

    <meta charset='utf-8'>
    <script
            src='http://html5slides.googlecode.com/svn/trunk/slides.js'></script>
</head>

<style>
    /* Your individual styles here, or just use inline styles if that’s
       what you want. */

  .slides.template-xebia article.xlogo {
    background: white url(images/logo-alliance-97.png) 25% 50% no-repeat;
  }

  .slides.template-xebia article.metricslogo {
    background: white url(images/xmetrics-hat.png) 5% 5% no-repeat;
  }

  article.xlogo h1 {
    padding-top: 10%;
    padding-left:40%;
  }
    article.xlogo p {
        padding-left: 40%;
    }
  
  .slides.template-xebia > article:not(.nobackground):not(.xlogo):not(.metricslogo) {
    background: white url(images/logo-alliance-97.png) 800px 650px no-repeat;
    background-size:40px 40px;
  }

   img.left-img {
       padding-left: 25%;
   }

    .center{
        text-align: center ;
    }

</style>

<body style='display: none'>

<section class='slides layout-regular template-xebia'>

<article class='xlogo'>
  <h1>
        XKE Metrics</h1>
        <p>
        @slemesle, Mars 2014
    </p>
</article>

<article class="metricslogo">
    <h1>
        So what is Metrics ?
    </h1>
    <ul class="build">
        <li>Small library initiated by Yammer</li>
        <li>Developed to create software metrics</li>
        <li>And report them anywhere</li>
    </ul>
</article>

<article>
    <h1>Let see what's in the box ?</h1>
    <img class="left-img" width="400px"  src="images/mystery-box1.jpg"/>

</article>

<article>
    <h3>
    Gauges, represent an instantaneous value
    </h3>
    <img src="images/gauge.jpg" style="padding-left: 25%; padding-top: 5%"/>
</article>

<article class='smaller'>
    <h3>
        Counter, is a Gauge backed by an AtomicInteger
    </h3>
    <comment><i>You can increment or decrement them</i> </comment>
    <img src="images/finger_count.jpg" style="padding-top: 20% " width="800px">
</article>

<article>
    <h3>
        Meters, measures the rate of an event over time
    </h3>
    <img src="images/meter.png" width="500px" style="padding-top: 15%; padding-left: 20%">
</article>

<article>
    <h3>
        Timers, measures rate and time distribution of the event
    </h3>
    <img src="images/chronometer.jpg" style="padding-left: 15%"/>

</article>

<article class='smaller'>
    <h3>
        Health checks, evaluates healthness of service the application depends on
    </h3>
    <img src="images/healthcheck.jpg" style="padding-left: 15%"/>
</article>

<article>
    <h3>
        Reporters, defines where and how we should report registered metrics
    </h3>

    <img src="images/reporter.jpg" width="600px" style="padding-left: 15% "/>

</article>

<article class='smaller'>
    <h1>
        You know all you need, now let's play !
    </h1>
    <comment>Keep in mind, you can always browse the documentation <a href="http://metrics.codahale.com/manual/" target="_blank">here</a>.</comment>
</article>

<article style="text-align: center">
    <h1>
        Checkout the repository
    </h1>
    <p >
        <a href="https://github.com/slemesle/xke-metrics">https://github.com/slemesle/xke-metrics</a>
    </p>
</article>

<article>
    <h1>
        Run the webserver
    </h1>
    <p>mvn jetty:run</p>
    <h2>You can now browse the slides on <a href="http://localhost:8080/">http://localhost:8080/</a></h2>
</article>

<article>
    <h3>
    Exercise #1 - Add metrics-core dependency and provide it in SpringConfiguration
    </h3>
    <section>
        <pre>

        &lt;dependency&gt;
            &lt;groupId&gt;com.codahale.metrics&lt;/groupId&gt;
            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;
            &lt;version&gt;3.0.1&lt;/version&gt;
        &lt;/dependency&gt;
        </pre>
    </section>
    <p class="center">
    <comment>Check the TODO Exercise 1 !<br/>
    SpringConfigurationTest TU should pass :)
    </comment>
    </p>
</article>

<article>
    <h3>
     Exercise #2 - Instrument the web application using metrics servlets
    </h3>
    <ul class="build">
        <li>Add metrics-servlet and metrics-servlets dependencies</li>
        <li>Add Metrics servlets mapping in web.xml</li>
        <li>Add InstrumentedFilter on top of spring mvc</li>
    </ul>
    <div class="build" style="padding-top: 10%">
        <p>
        Now Browse youre webapp to <a href="http://localhost:8080/admin/metrics">metrics servlet</a> and appreciate
        youre brand new URLs.
        </p>
        <p class="blue">
            Run ab to generate metrics data:</p>
            <section><pre class="lang-bash">
ab -n10000 -c5 -r -k http://localhost:8080/rest/wine/search/Xebia</pre></section>
        </p>
    </div>
</article>

<article>
    <h3>Exercise #3 - Add some default metics to the registry</h3>
    <p>

    </p>
</article>

<article>
    <h3>
        This slide has some code
    </h3>
    <section>
        <pre>
&lt;script type='text/javascript'&gt;
  // Say hello world until the user starts questioning
  // the meaningfulness of their existence.
  function helloWorld(world) {
    for (var i = 42; --i &gt;= 0;) {
      alert('Hello ' + String(world));
    }
  }
&lt;/script&gt;
&lt;style&gt;
  p { color: pink }
  b { color: blue }
  u { color: 'umber' }
&lt;/style&gt;
</pre>
    </section>
</article>

<article class='smaller'>
    <h3>
        This slide has some code (small font)
    </h3>
    <section>
        <pre>
&lt;script type='text/javascript'&gt;
  // Say hello world until the user starts questioning
  // the meaningfulness of their existence.
  function helloWorld(world) {
    for (var i = 42; --i &gt;= 0;) {
      alert('Hello ' + String(world));
    }
  }
&lt;/script&gt;
&lt;style&gt;
  p { color: pink }
  b { color: blue }
  u { color: 'umber' }
&lt;/style&gt;
</pre>
    </section>
</article>

<article>
    <q>
        The best way to predict the future is to invent it.
    </q>
    <div class='author'>
        Alan Kay
    </div>
</article>

<article class='smaller'>
    <q>
        A distributed system is one in which the failure of a computer
        you didn’t even know existed can render your own computer unusable.
    </q>
    <div class='author'>
        Leslie Lamport
    </div>
</article>

<article class='nobackground'>
    <h3>
        A slide with an embed + title
    </h3>

    <iframe src='http://www.google.com/doodle4google/history.html'></iframe>
</article>

<article class='nobackground'>
    <iframe src='http://www.google.com/doodle4google/history.html'></iframe>
</article>

<article class='fill'>
    <h3>
        Full-slide embed with (optional) slide title on top
    </h3>
    <iframe src='http://www.google.com/doodle4google/history.html'></iframe>
</article>

<article>
    <h3>
        Thank you!
    </h3>

    <ul>
        <li>
            <a href='http://www.google.com'>google.com</a>
    </ul>
</article>

</section>

</body>
</html>
